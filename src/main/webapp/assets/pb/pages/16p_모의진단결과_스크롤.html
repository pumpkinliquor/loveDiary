<!DOCTYPE html>
<html lang="ko">

<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>수능앱 Aigo</title>

<link rel="stylesheet" href="../assets/css/style_m.css">

<link rel="stylesheet" href="../assets/plugin/owlcarousel/owl.carousel.min.css">
<link rel="stylesheet" href="../assets/plugin/owlcarousel/owl.theme.default.css">

<script type="text/javascript" src="../assets/js/jquery-1.12.4.min.js"></script>
<script src="../assets/js/script_m.js"></script>
<script>
  MathJax = {
    tex: {inlineMath: [['$', '$'], ['\\(', '\\)']]}
  };
</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>

</head>

<body class="report_body">
<div class="wrapper">
  <header class="header">
    <a href="#" class="btn_allmenu">전체메뉴</a>
    <h1 class="title"><img src="../assets/images/logo.png" alt="AIGo"> <span>진단서</span></h1>
    <div class="my_cont">
      <p class="my_id">jeehyun@aigo.com님</p>
      <div class="my_grade">
        <p>10문제를 풀었고 <em>10문제</em>를 맞췄습니다</p>
      </div>
    </div>
  </header>

  <div class="container report diagnosis"><!-- 수정0222 -->
    <section class="contents">
      <div class="chart_wrap">
        <div class="chart_div diagnosis_chart1">
          <canvas id="chart1" style="width:100%"></canvas>
          <div class="my_posi_wrap">
            <span class="txt">Your Rate : 3.79%</span>
            <div class="div">
             <!--<span style="left:-14%">
                <span class="dot" style="top:5%"></span>
                <span class="line"></span>
                <span class="my_posi_box" style="margin-left:-0.8rem">
                  <span>나의 AIGo 위치 <em>6등급</em> 이하</span>
                  <span class="bg" style="left:10%"></span>
                </span>
              </span>
              <span style="left:30%">
                <span class="dot" style="top:50%"></span>
                <span class="line"></span>
                <span class="my_posi_box">
                  <span>나의 AIGo 위치 <em>6등급</em> 이하</span>
                  <span class="bg"></span>
                </span>
              </span> -->
                 <span style="left:58%">
                  <span class="dot" style="top:20%"></span>
                  <span class="line"></span>
                  <span class="my_posi_box">
                    <span>나의 AIGo 위치 <em>6등급</em> 이하</span>
                    <span class="bg"></span>
                  </span>
                </span>
              <!-- <span style="left:80%">
                <span class="dot" style="top:20%"></span>
                <span class="line"></span>
                <span class="my_posi_box"style="margin-left:-7rem">
                  <span>나의 AIGo 위치 <em>6등급</em> 이하</span>
                  <span class="bg"style="left:89%"></span>
                </span>
              </span> -->
            </div>
            </div><!-- //my_posi_wrap -->
        </div>
        <p class="txt_st1">* 전국 백분위, 오차범위 ±5%</p>
      </div>
      <button class="btn btn_st3 mt25">LEVEL 1 코스로 학습 시작</button>
    </section>

    <section class="contents">
      <h2>내용영역별 분석</h2>
      <div class="chart_div diagnosis_chart3">
        <div class="canvas-wrap"><canvas id="chart3" class="scroll"></canvas></div><!-- 수정0309 -->
        <div id="legend3"></div> 
      </div>

    </section>


    <section class="contents">
      <h2>문항별 채점결과</h2>
      <table class="studyT mt30">
        <colgroup>
          <col width="23.5%">
          <col width="22.7%">
          <col width="36.7%">
          <col width="17.1%">
        </colgroup>
        <thead>
          <tr>
            <th>문항번호</th>
            <th>과목</th>
            <th>평가내용</th>
            <th>결과</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>1</td>
            <td>수학 Ⅱ</td>
            <td>개념요소</td>
            <td class="f_B">○</td>
          </tr>
          <tr>
            <td>2</td>
            <td>수학 Ⅱ</td>
            <td>지수법칙, 로그</td>
            <td class="f_B">×</td>
          </tr>
          <tr>
            <td>3</td>
            <td>수학 Ⅱ</td>
            <td>지수법칙, 로그</td>
            <td class="f_B">×</td>
          </tr>
          <tr>
            <td>4</td>
            <td>수학 Ⅱ</td>
            <td>지수법칙, 로그</td>
            <td class="f_B">×</td>
          </tr>
          <tr>
            <td>5</td>
            <td>수학 Ⅱ</td>
            <td>지수법칙, 로그</td>
            <td class="f_B">×</td>
          </tr>
          <tr>
            <td>6</td>
            <td>수학 Ⅱ</td>
            <td>지수법칙, 로그</td>
            <td class="f_B">×</td>
          </tr>
        </tbody>
      </table>
    </section>

    <section class="contents total_review_cont">
      <div class="review_tit"><h2><span>AIGo 진단 총평</span></h2></div>
      <div class="review_txt_div">
        <p>기본적인 수학 개념과 문제 적용력을 키우는 문제를 AIGo가 엄선하여 출제합니다. 많이 푼다고 성적이 오르는 것이 아닙니다.  최소량의 꼭 필요한 문제만 풀고 숏컷으로 등급을 향상시키는 코스입니다.<br><br> 
        매일매일 어쩌구 수학1등급 바로 여러분의 몫입니다. 총평 들어가는 곳</p>
      </div>
    </section>

    <section class="contents banner_conts">
      <p><span>단, 6주간만 AI가 엄선한 고퀄리티<br> 수학 문제를 무료 공개 합니다. </span></p>
    </section>


  </div><!-- //container -->


</div>

 <!-- 차트 -->
<script src="https://www.chartjs.org/dist/2.9.4/Chart.min.js"></script>

<script src="../assets/plugin/utils.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-deferred"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.0/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.0/ScrollTrigger.min.js"></script>

<script type="text/javascript">
 function animateFrom(elem, direction) {
    direction = direction | 1.5;

    var x = 0,
    y = direction * 100;

    gsap.fromTo(elem, {x: x, y: y, autoAlpha: 0}, {
      duration: 1,
      x: 0,
      y: 0,
      autoAlpha: 1,
      ease: "expo",
      overwrite: "auto"
    });
}

  function hide(elem) {
    gsap.set(elem, {autoAlpha: 0});
  }

  document.addEventListener("DOMContentLoaded", function() {
    gsap.registerPlugin(ScrollTrigger);

    gsap.utils.toArray(".chart_div").forEach(function(elem) {
      hide(elem); // assure that the element is hidden when scrolled into view

      ScrollTrigger.create({
        trigger: elem,
        onEnter: function() { animateFrom(elem) },
        onEnterBack: function() { animateFrom(elem, -1) },
        onLeave: function() { hide(elem) } // assure that the element is hidden when scrolled into view
      });
    });
  });


//나의 AIGo 위치 차트
var lineChartData = {
  labels: ['99.7%', '98%', '97.6%', '90%', '84%', '65%', '49.9%', '35%', '15.8%', '10%', '2.2%', '1.5%', '1%'],
  datasets:
  [{
  label: "나의 AIGo 위치",
  data: [,,,,,,,,,0.14,0.05,0.03,0],
  borderColor: '#3b70db',
  backgroundColor: "rgba(59, 112, 219, 0.1)",
  pointBorderColor: "rgba(59, 112, 219, 0)",
  pointBackgroundColor: "rgba(59, 112, 219, 0)",
   // backgroundColor: utils.transparentize(presets.skyblue),
  fill:'origin',
  },{
  label: "나의 AIGo 위치",
  data: [0.01, 0.05, 0.09, 0.15,0.22, 0.32, 0.38,0.32,0.22,0.14,,,,],
  borderColor: '#3b70db',
  pointBorderColor: "rgba(59, 112, 219, 0)",
  pointBackgroundColor: "rgba(59, 112, 219, 0)",
  pointBackgroundColor: "transparent"
  }]
};
/*
const verticalLinePlugin = {
  getLinePosition: function (chart, pointIndex) {
  const meta = chart.getDatasetMeta(0); // first dataset is used to discover X coordinate of a point
  const data = meta.data;
  return data[pointIndex]._model.x;
  },
  renderVerticalLine: function (chartInstance, pointIndex) {
  const lineLeftOffset = this.getLinePosition(chartInstance, pointIndex);
  const scale = chartInstance.scales['y-axis-0'];
  const context = chartInstance.chart.ctx;
 
 
  // render vertical line
  context.beginPath();
  context.strokeStyle = '#ff0000';
  context.setLineDash([2, 1.5]);
  context.moveTo(lineLeftOffset, scale.top + 0);
  context.lineTo(lineLeftOffset, scale.bottom);
  context.stroke();
 
  // write label
  context.fillStyle = "#000";
  context.textAlign = 'center';
  context.font = '10px sans-serif';
  context.fillText('Your Rate : 3.79%', lineLeftOffset, scale.top + 30);
  },
  afterDatasetsDraw: function (chart, easing) {
  if (chart.config.lineAtIndex) {
    chart.config.lineAtIndex.forEach(pointIndex => this.renderVerticalLine(chart, pointIndex));
  }
  }
  };
Chart.plugins.register(verticalLinePlugin);
*/
var ctxChart1 = document.getElementById("chart1").getContext("2d");
var chart1 = new Chart(ctxChart1, {
  type: 'line',
  data: lineChartData,
  options: {
  responsive: true,
  maintainAspectRatio: false,
  legend: {
    display: false
  },
  elements: {
    line: {
    fill: false,
    borderWidth:2
    }
  },
  plugins: {
     datalabels: {
    display: false
     }
  },
  tooltips: false,
  deferred: {
    xOffset: 150,   // defer until 150px of the canvas width are inside the viewport
    yOffset: '50%', // defer until 50% of the canvas height are inside the viewport
    delay: 500    // delay of 500 ms after the canvas is considered inside the viewport
    },
   scales: {
    xAxes: [{
      ticks:{
      display: true,
      autoSkip: true,//수정0226
      maxRotation: 0,//수정0226
      minRotation: 0,//수정0226
      maxTicksLimit: 6,
      fontSize : 10,
      fontColor: '#656565'
      },
      gridLines: {
        zeroLineColor: '#ddd',
        drawBorder: false  
      }
    }],
    yAxes: [{
      ticks:{
      display: true,
      autoSkip: true,
      maxTicksLimit: 6,
      fontSize : 10,
      fontColor: '#656565'
      },
      gridLines: {
        zeroLineColor: '#ddd',
        drawBorder: false             
      }
    }]
  },
  animation: {
    duration: 1000,
  },
  },
 //  lineAtIndex: [9]
});


//내용영역별 분석 차트
var ctxChart3 = document.getElementById('chart3').getContext('2d');
var chart3 = new Chart(ctxChart3, {
  type: 'bar',
  data: {
      labels: ['수와연산','도형','측정','확률과통계','규칙성','확률과통계','규칙성'],
      datasets: [{
          label: '내점수',
          backgroundColor:"#1b83ef",
          borderWidth: 0,
          data: [80,50,60,50,80,50,80]
      }, {
          label: 'AIGo 평균',
          backgroundColor:"#2e3698",
          borderWidth: 1,
          data: [90,40,70,60,60,50,80]
      }]

  },
  options: {
      responsive: false, //수정0309
      maintainAspectRatio: false,
      legend: {
          position: 'bottom',
          display: false,
      },
      legendCallback: function(chart) {
        var text = [];
        text.push('<ul class="legend ' + chart.id + '-legend">');
        for (var i = 0; i < chart.data.datasets.length; i++) {
          text.push('<li><div class="legendValue"><span class="label_shape" style="background-color:' + chart.data.datasets[i].backgroundColor + '">&nbsp;&nbsp;&nbsp;&nbsp;</span>');
          
          if (chart.data.datasets[i].label) {
            text.push('<span class="label_txt">' + chart.data.datasets[i].label + '</span>');
          }

          text.push('</div></li></div>');
        }

        text.push('</ul>');

        return text.join('');
      },
      scales: {
        xAxes: [{
          display: true,
          barPercentage: 0.8,
          gridLines: {
              display:false
          },
          ticks: {
            beginAtZero: true,
            fontSize : 10,
            autoSkip: false,
            maxRotation: 0,//수정0226
            minRotation: 0,//수정0226
          },
        }],
        yAxes: [{
          display: true,
          ticks: {
            beginAtZero: true,
            display: true,
            min: 0,
            stepSize : 50,
            max: 100,
            fontSize : 10
          },
          gridLines: {
            drawBorder: false,
            zeroLineColor: '#ddd'
          }
        }]
      },
      title: {
          display: false,
          text: ''
      },
      animation: {
        duration: 1000,
      },
      plugins: {
        datalabels: {
          anchor: 'end',
          align: 'end',
          font: {
            size: 10
          },
          color: function(context) {
            var index = context.dataIndex;
            var value = context.dataset.data[index];
            var valueBlack = context.dataset.label;

            if(valueBlack === '내점수') {
              return value = '#000';
            } else {
              return value = 'transparent';
            }
          }
        }
      }
  }
});
$('#legend3').prepend(chart3.generateLegend());

  </script>


</body>

</html>